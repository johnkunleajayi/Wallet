<template>
    <article class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center card">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="standard:crypto_wallet" alternative-text="Wallet" title="Wallet"></lightning-icon>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <a href="#" class="slds-card__header-link slds-truncate" title="Wallet">
                            <span>Wallet</span>
                        </a>
                    </h2>
                </div>
            </header>
        </div>


        <!-- Total Balance code here -->
        
        
        <div class="slds-card__body slds-card__body_inner">
            <div class="slds-grid balance">
                <article class="slds-card slds-card_boundary slds-col narrow-card">
                    <div class="slds-card__header slds-text-align_center" onclick={togglePreview}>
                        <div class="slds-grid slds-align-middle slds-grid_align-center">
                            <div class="slds-col slds-size_auto slds-no-space">
                                <lightning-icon 
                                    icon-name="custom:custom41" 
                                    alternative-text="Total Balance" 
                                    title="Total Balance"></lightning-icon>
                            </div>
                            <div class="slds-col slds-size_auto slds-no-space">
                                <h2 class="slds-card__header-title slds-p-left_small">
                                    <a href="#" class="slds-card__header-link slds-truncate" title="Total Balance">
                                        <span>Total Balance</span>
                                    </a>
                                </h2>
                            </div>
                        </div>
                    </div>
                    <!-- Add a separate div for the toggle icon below the Total Balance -->
                    <div class="slds-card__body slds-card__body_inner slds-text-align_center" onclick={togglePreview}>
                        <lightning-icon 
                            icon-name={previewIconName} 
                            alternative-text="Toggle Balance Visibility" 
                            title="Toggle Balance Visibility"   
                            class={iconClass} 
                            size="large"> 
                        </lightning-icon>
                    </div>
                    <div class="slds-card__body slds-card__body_inner slds-text-align_center">
                        <template if:true={isPreviewVisible}>
                            <span class="slds-p-left_small bold-large-text">{formattedBalance}</span>
                        </template>
                        <template if:false={isPreviewVisible}>
                            <span class="slds-p-left_small bold-large-text">***</span>
                        </template>
                    </div>
                </article> 
            </div>
        
        
        
        
        
        

            <!-- Total Balance code above -->



            <div class="slds-grid slds-m-top_small">
                <article class="slds-card slds-card_boundary slds-col slds-m-horizontal_small narrow-card">
                    <div class="slds-card__header slds-grid">
                        <header class="slds-media slds-media_center card">
                            <div class="slds-media__figure">
                                <lightning-icon icon-name="standard:product_consumed" alternative-text="Total Deposit"
                                    title="Total Deposit"></lightning-icon>
                            </div>
                            <div class="slds-media__body">
                                <h2 class="slds-card__header-title">
                                    <a href="#" class="slds-card__header-link slds-truncate" title="Total Deposits">
                                        <span>Total Deposits</span>
                                    </a>
                                </h2>
                            </div>
                        </header>
                    </div>
                    <div class="slds-card__body slds-card__body_inner slds-text-align_center">
                        <template if:true={isPreviewVisible}>
                            <span class="bold-large-text green-text">{formattedDeposits}</span>
                        </template>
                        <template if:false={isPreviewVisible}>
                            <span class="bold-large-text">***</span>
                        </template>
                    </div>
                    <footer class="slds-card__footer">
                        <lightning-button-stateful label-when-off="Top Up" label-when-on="Top Up" label-when-hover="Top Up"
                            icon-name-when-off="utility:money" icon-name-when-on="utility:money"
                            icon-name-when-hover="utility:money" variant="brand" selected={isSelected}
                            onclick={handleTopUpClick}>
                        </lightning-button-stateful>
                    </footer>
                </article>
                <article class="slds-card slds-card_boundary slds-col slds-m-horizontal_small slds-col slds-m-top_none narrow-card">
                    <div class="slds-card__header slds-grid">
                        <header class="slds-media slds-media_center card">
                            <div class="slds-media__figure">
                                <lightning-icon icon-name="standard:logging" alternative-text="Expenses" title="Expenses" class="red-icon"></lightning-icon>
                            </div>
                            <div class="slds-media__body">
                                <h2 class="slds-card__header-title">
                                    <a href="#" class="slds-card__header-link slds-truncate" title="Expenses">
                                        <span>Expenses</span>
                                    </a>
                                </h2>
                            </div>
                        </header>
                    </div>
                    <div class="slds-card__body slds-card__body_inner slds-text-align_center">
                        <template if:true={isPreviewVisible}>
                            <h2 class="bold-large-text red-text">{formattedExpenses}</h2>
                        </template>
                        <template if:false={isPreviewVisible}>
                            <h2 class="bold-large-text">***</h2>
                        </template>
                    </div>
                    <footer class="slds-card__footer">
                        <lightning-button-stateful label-when-off="Pay" label-when-on="Pay" label-when-hover="Pay"
                            icon-name-when-off="utility:currency" icon-name-when-on="utility:currency"
                            icon-name-when-hover="utility:currency" variant="neutral" selected={isSelected}
                            onclick={handlePayClick}>
                        </lightning-button-stateful>
                    </footer>
                </article>
            </div>
        </div>
        <!-- Remaining template code here -->
        <div class="slds-card__body slds-m-horizontal_large">
            <!-- <p class="slds-text-align_center"><lightning-icon icon-name="utility:list" alternative-text="list Top Up" title="list Top Up"></lightning-icon> Top-Up History</p> -->
            <div class="slds-grid slds-m-bottom_small">
                <header class="slds-media slds-media_center card">
                    <div class="slds-media__figure">
                        <lightning-icon icon-name="utility:list" alternative-text="Total History"
                                    title="Total History"></lightning-icon>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">
                            <a href="#" class="slds-card__header-link slds-truncate" title="Total History">
                                <span>Top-Up History</span>
                            </a>
                        </h2>
                    </div>
                </header>
            </div>
            <table
                class="slds-table slds-table_cell-buffer slds-no-row-hover slds-table_bordered slds-table_fixed-layout table-border"
                role="grid" aria-label="Example table in a Card">
                <thead>
                    <tr class="slds-line-height_reset">
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Type">Type</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Amount">Amount</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Service Fee">Service Fee</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Status">Status</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Date">Date</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Author">Author</div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="slds-hint-parent">
                        <th scope="row">
                            <div class="slds-truncate" title="Top Up">
                                <a href="#" tabindex="-1">Top Up</a>
                            </div>
                        </th>
                        <td role="gridcell">
                            <div class="slds-truncate" title="₦50,000.00">₦50,000.00</div>
                        </td>
                        <td role="gridcell">
                            <div class="slds-truncate" title="₦2,120.00">₦2,120.00</div>
                        </td>
                        <td role="gridcell">
                            <div class="slds-truncate" title="Success">Success</div>
                        </td>
                        <td role="gridcell">
                            <div class="slds-truncate" title="2024-08-08 14:13:01">2024-08-08 14:13:01</div>
                        </td>
                        <td role="gridcell">
                            <div class="slds-truncate" title="Johan Nken">Johan Nken</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- <footer class="slds-card__footer">
            <a class="slds-card__footer-action" href="#">View All
                <span class="slds-assistive-text">Contacts</span>
            </a>
        </footer> -->
    </article>
</template>